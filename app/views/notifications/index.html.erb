<section class="user-notification hero is-light is-fullheight">
  <div class="hero-body">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-10-desktop is-10-widescreen">
          <div class="box">
            <div class="info-contents">
              <% if @notifications.exists? %>
                <% @notifications.each do |notification| %>
                  <!-- それぞれのuserを格納 -->
                  <% visitor = notification.visitor %>
                  <% visited = notification.visited %>
                  <div class="info-area">
                    <%= link_to users_profile_path(visitor.name) do %>
                      <strong class="info-element"><%= visitor.name %></strong>さんが
                    <% end %>
                    <% if notification.action == "like" %>
                      <strong class="info-element"><%= link_to 'あなたの投稿', notification.post %></strong>に<span class="like-action">like</span>しました
                    <% elsif notification.action == "remember" %>
                      <strong class="info-element"><%= link_to 'あなたの投稿', notification.post %></strong>に<span class="remember-action">remember</span>しました
                    <% elsif notification.action == "comment" %>
                      <% if notification.post.user_id == visited.id %>
                        <strong class="info-element"><%= link_to "あなたの投稿", notification.post %></strong>に<span class="comment-action">コメント</span>しました
                        <div class="comment-content"><%= notification.comment.comment_content %></div>
                      <% else %>
                        <%= link_to post_path(notification.post) do %>
                          <strong class="info-element"><%= notification.post.user.name %>さんの投稿</strong>に<span class="comment-action">コメント</span>しました
                          <div class="comment-content"><%= notification.comment.comment_content %></div>
                        <% end %>
                      <% end %>
                    <% end %>
                    <span class="info-date"><%= info_time(notification.created_at) %></span>
                  </div>
                <% end %>
              <% else %>
                <p>通知はありません</p>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
